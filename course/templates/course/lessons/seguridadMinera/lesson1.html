{% extends "base.html" %}

{% block content %}



<div class="container mt-4">
    <div class="row">
        <!-- Contenido de la lecci√≥n -->
        <div class="col-md-8">
            <div class="row">

                <!-- Contenido del Libro -->
                <main class="col-md-9 col-lg-10 content">
                    <h1 class="text-center">üìö Libro Digital de Aprendizaje</h1>

                    <section id="chapter1">
                        <h2 class="chapter-title">Cap√≠tulo 1: Introducci√≥n</h2>
                        <p>Bienvenido a este libro digital donde exploraremos diversos temas educativos.</p>
                        <!-- Adjuntando archivo -->
                        {% for archivo in lesson.archivos.all %}
                        <a href="{{ archivo.archivo.url }}" download>{{ archivo.nombre|default:archivo.archivo.name
                            }}</a>
                        {% endfor %}

                        <img src="https://source.unsplash.com/800x400/?education,learning" class="img-fluid rounded"
                            alt="Aprendizaje">
                        <button class="btn btn-primary btn-nav" onclick="scrollToChapter('chapter2')">Siguiente
                            Cap√≠tulo</button>
                    </section>

                    <hr>

                    <section id="chapter2">
                        <h2 class="chapter-title">Cap√≠tulo 2: Conceptos Clave</h2>
                        <p>Aqu√≠ aprender√°s los fundamentos esenciales para dominar este tema.</p>
                        <video controls class="w-100 rounded">
                            <source src="video.mp4" type="video/mp4">
                            Tu navegador no soporta la reproducci√≥n de videos.
                        </video>
                        <button class="btn btn-secondary btn-nav" onclick="scrollToChapter('chapter1')">Cap√≠tulo
                            Anterior</button>
                        <button class="btn btn-primary btn-nav" onclick="scrollToChapter('chapter3')">Siguiente
                            Cap√≠tulo</button>
                    </section>

                    <hr>

                    <section id="chapter3">
                        <h2 class="chapter-title">Cap√≠tulo 3: Aplicaciones</h2>
                        <p>Veamos c√≥mo aplicar los conceptos en la pr√°ctica.</p>
                        <a href="documento.pdf" download class="btn btn-success">üì• Descargar Material</a>
                        <button class="btn btn-secondary btn-nav" onclick="scrollToChapter('chapter2')">Cap√≠tulo
                            Anterior</button>
                        <button class="btn btn-primary btn-nav" onclick="scrollToChapter('chapter4')">Siguiente
                            Cap√≠tulo</button>
                    </section>

                    <hr>

                    <section id="chapter4">
                        <h2 class="chapter-title">Cap√≠tulo 4: Evaluaci√≥n</h2>
                        <p>Pon a prueba tus conocimientos con este cuestionario.</p>
                        <button class="btn btn-warning">üìã Realizar Evaluaci√≥n</button>
                        <button class="btn btn-secondary btn-nav" onclick="scrollToChapter('chapter3')">Cap√≠tulo
                            Anterior</button>
                    </section>
                </main>
            </div>
        </div>

        <!-- √çndice del curso -->
        <div class="col-md-4">
            <h4>√çndice del curso</h4>
            <ul class="list-group">
                {% for l in lessons %}
                {% if l.id == lesson.id %}
                <li class="list-group-item" style="background-color: #ffe5b4; color: #000; border-color: #ffc107;">
                    <a href="{% url 'course:lesson_detail' course.id l.id %}"
                        style="color: #000; text-decoration: none; font-weight: bold;">
                        ‚ñ∂ {{ l.title }}
                    </a>
                </li>
                {% else %}
                <li class="list-group-item">
                    <a href="{% url 'course:lesson_detail' course.id l.id %}">{{ l.title }}</a>
                </li>
                {% endif %}

                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    function scrollToChapter(id) {
        document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
    }
</script>
{% endblock %}